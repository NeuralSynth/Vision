"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/demo/page",{

/***/ "(app-pages-browser)/./src/components/WebcamDetection.tsx":
/*!********************************************!*\
  !*** ./src/components/WebcamDetection.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CameraContext: function() { return /* binding */ CameraContext; },\n/* harmony export */   CameraProvider: function() { return /* binding */ CameraProvider; },\n/* harmony export */   \"default\": function() { return /* binding */ WebcamDetectionWithCamera; },\n/* harmony export */   useCameraStream: function() { return /* binding */ useCameraStream; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ CameraContext,CameraProvider,useCameraStream,default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n// Create the context with default values\nconst CameraContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    stream: null,\n    getStream: async ()=>null,\n    error: null,\n    frameData: null,\n    detections: [],\n    captureFrame: async ()=>null,\n    updateDetections: ()=>{}\n});\n// Provider component for camera access\nfunction CameraProvider(param) {\n    let { children } = param;\n    _s();\n    const [stream, setStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [frameData, setFrameData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [detections, setDetections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Initialize canvas for frame capture\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        canvasRef.current = document.createElement(\"canvas\");\n    }, []);\n    const getStream = async ()=>{\n        if (stream) return stream;\n        try {\n            const newStream = await navigator.mediaDevices.getUserMedia({\n                video: {\n                    width: {\n                        ideal: 640\n                    },\n                    height: {\n                        ideal: 480\n                    }\n                }\n            });\n            setStream(newStream);\n            return newStream;\n        } catch (err) {\n            const error = err;\n            setError(error.message);\n            console.error(\"Error accessing camera:\", error);\n            return null;\n        }\n    };\n    // Method to capture a frame from the video stream\n    const captureFrame = async ()=>{\n        if (!videoRef.current || !canvasRef.current || !stream) {\n            return null;\n        }\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        // Ensure canvas size exactly matches current video dimensions\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        // Draw current video frame to canvas\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) {\n            return null;\n        }\n        // Clear the canvas first\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n        try {\n            // Convert to base64 with higher quality (0.95 instead of 0.8)\n            const imageData = canvas.toDataURL(\"image/jpeg\", 0.95);\n            const base64Data = imageData.split(\",\")[1];\n            // Verify we have data\n            if (!base64Data || base64Data.length < 1000) {\n                console.warn(\"Generated base64 data seems too small:\", base64Data === null || base64Data === void 0 ? void 0 : base64Data.length);\n                return null;\n            }\n            setFrameData(base64Data);\n            return base64Data;\n        } catch (err) {\n            console.error(\"Error encoding image:\", err);\n            return null;\n        }\n    };\n    // Update detections state with new data\n    const updateDetections = (newDetections)=>{\n        console.log(\"Updating context detections:\", newDetections.length);\n        setDetections(newDetections);\n    };\n    // Cleanup when component unmounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (stream) {\n                stream.getTracks().forEach((track)=>track.stop());\n            }\n        };\n    }, [\n        stream\n    ]);\n    // Set up video element for stream\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!videoRef.current) {\n            videoRef.current = document.createElement(\"video\");\n            videoRef.current.autoplay = true;\n            videoRef.current.playsInline = true;\n        }\n        if (stream && videoRef.current) {\n            videoRef.current.srcObject = stream;\n        }\n    }, [\n        stream\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CameraContext.Provider, {\n        value: {\n            stream,\n            getStream,\n            error,\n            frameData,\n            detections,\n            captureFrame,\n            updateDetections\n        },\n        children: [\n            children,\n            videoRef.current && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                ref: videoRef,\n                autoPlay: true,\n                playsInline: true,\n                style: {\n                    display: \"none\"\n                }\n            }, void 0, false, {\n                fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                lineNumber: 161,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n        lineNumber: 150,\n        columnNumber: 5\n    }, this);\n}\n_s(CameraProvider, \"dmsa9V0V2q8G/lV0S9UoijRgroc=\");\n_c = CameraProvider;\n// Hook to use the camera stream\nconst useCameraStream = ()=>{\n    _s1();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(CameraContext);\n};\n_s1(useCameraStream, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n// The main WebcamDetection component\nconst WebcamDetection = ()=>{\n    _s2();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isDetecting, setIsDetecting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [detectionResults, setDetectionResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Initializing...\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const animationFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { getStream, stream, captureFrame, updateDetections } = useCameraStream();\n    const [framerate, setFramerate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(2); // Frames per second\n    const processingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const lastDetectionTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // Initialize webcam\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        async function setupCamera() {\n            setStatus(\"Accessing camera...\");\n            try {\n                const cameraStream = await getStream();\n                if (cameraStream && videoRef.current) {\n                    videoRef.current.srcObject = cameraStream;\n                    // Wait for video to be ready\n                    videoRef.current.onloadedmetadata = ()=>{\n                        if (!videoRef.current) return;\n                        // Set canvas dimensions to match video\n                        if (canvasRef.current) {\n                            canvasRef.current.width = videoRef.current.videoWidth;\n                            canvasRef.current.height = videoRef.current.videoHeight;\n                        }\n                        setStatus(\"Camera ready\");\n                        // Auto-start detection after camera is ready\n                        setTimeout(()=>setIsDetecting(true), 1000);\n                    };\n                }\n            } catch (err) {\n                console.error(\"Error setting up camera:\", err);\n                setStatus(\"Camera error: \" + err.message);\n            }\n        }\n        setupCamera();\n        return ()=>{\n            if (animationFrameRef.current) {\n                cancelAnimationFrame(animationFrameRef.current);\n            }\n            setIsDetecting(false);\n        };\n    }, [\n        getStream\n    ]);\n    // Function to send frame to backend and get detections\n    const processFrame = async (frameData)=>{\n        try {\n            // Set processing flag\n            processingRef.current = true;\n            console.log(\"Sending frame to backend for detection\");\n            const response = await fetch(\"http://localhost:5000/detect\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    image: frameData\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Detection failed: \".concat(response.status));\n            }\n            const result = await response.json();\n            console.log(\"Got detection results:\", result);\n            // Clear processing flag\n            processingRef.current = false;\n            lastDetectionTimeRef.current = Date.now();\n            return result;\n        } catch (error) {\n            console.error(\"Error processing frame:\", error);\n            processingRef.current = false;\n            return null;\n        }\n    };\n    // Detection loop\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let isActive = true;\n        const detectFrame = async ()=>{\n            // Don't try to detect if not active, loading or already processing\n            if (!isDetecting || !captureFrame || isLoading || processingRef.current) {\n                // Schedule next frame with delay based on framerate\n                setTimeout(()=>{\n                    if (isActive) requestAnimationFrame(detectFrame);\n                }, 1000 / framerate);\n                return;\n            }\n            // Throttle detection rate - respect the framerate setting\n            const now = Date.now();\n            const timeSinceLastDetection = now - lastDetectionTimeRef.current;\n            if (timeSinceLastDetection < 1000 / framerate) {\n                setTimeout(()=>{\n                    if (isActive) requestAnimationFrame(detectFrame);\n                }, 1000 / framerate - timeSinceLastDetection);\n                return;\n            }\n            setIsLoading(true);\n            try {\n                // Capture frame from webcam\n                const frame = await captureFrame();\n                if (frame && isActive) {\n                    setStatus(\"Processing...\");\n                    // Send to backend for detection\n                    const result = await processFrame(frame);\n                    if (result && isActive) {\n                        console.log(\"Detection results:\", result.detections.length, \"objects found\");\n                        setDetectionResults(result.detections);\n                        // IMPORTANT: Also update the context with the detections\n                        // so other components can access them\n                        updateDetections(result.detections);\n                        setStatus(\"Detected \".concat(result.detections.length, \" objects\"));\n                    }\n                }\n            } catch (err) {\n                console.error(\"Error in detection loop:\", err);\n                if (isActive) {\n                    setStatus(\"Detection error\");\n                }\n            } finally{\n                if (isActive) {\n                    setIsLoading(false);\n                }\n            }\n            // Continue detection loop with controlled framerate\n            setTimeout(()=>{\n                if (isActive) requestAnimationFrame(detectFrame);\n            }, 1000 / framerate);\n        };\n        detectFrame();\n        return ()=>{\n            isActive = false;\n            if (animationFrameRef.current) {\n                cancelAnimationFrame(animationFrameRef.current);\n            }\n        };\n    }, [\n        isDetecting,\n        captureFrame,\n        isLoading,\n        framerate,\n        updateDetections\n    ]);\n    // Draw bounding boxes on canvas - Improved rendering\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!canvasRef.current || !videoRef.current) return;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n        // Make sure canvas dimensions match video dimensions\n        if (videoRef.current.videoWidth !== canvas.width || videoRef.current.videoHeight !== canvas.height) {\n            canvas.width = videoRef.current.videoWidth;\n            canvas.height = videoRef.current.videoHeight;\n            console.log(\"Updated canvas dimensions to \".concat(canvas.width, \"x\").concat(canvas.height));\n        }\n        // Clear previous drawings\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        // Draw video frame first\n        ctx.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n        // Log detection count before drawing\n        console.log(\"Drawing \".concat(detectionResults.length, \" detection boxes on canvas\"));\n        // Draw each detection\n        detectionResults.forEach((detection, index)=>{\n            const [x, y, width, height] = detection.bbox;\n            console.log(\"Detection \".concat(index, \": \").concat(detection.class, \" at (\").concat(x, \",\").concat(y, \",\").concat(width, \",\").concat(height, \")\"));\n            try {\n                // Draw bounding box with more vibrant color\n                ctx.strokeStyle = \"#00FFFF\";\n                ctx.lineWidth = 3; // Thicker lines\n                ctx.strokeRect(x, y, width, height);\n                // Create more visible label with better contrast\n                const text = \"\".concat(detection.class, \" (\").concat(Math.round(detection.confidence * 100), \"%)\");\n                ctx.font = \"bold 16px Arial\";\n                const textMetrics = ctx.measureText(text);\n                const labelWidth = Math.max(160, textMetrics.width + 20);\n                // Draw label background\n                ctx.fillStyle = \"rgba(0, 0, 0, 0.7)\"; // Dark background for better contrast\n                ctx.fillRect(x, y - 30, labelWidth, 30);\n                // Draw border for label\n                ctx.strokeStyle = \"#00FFFF\";\n                ctx.strokeRect(x, y - 30, labelWidth, 30);\n                // Draw label text\n                ctx.fillStyle = \"#FFFFFF\"; // White text for visibility\n                ctx.fillText(text, x + 5, y - 10);\n            } catch (err) {\n                console.error(\"Error drawing detection:\", err);\n            }\n        });\n    }, [\n        detectionResults\n    ]);\n    // Toggle detection on/off\n    const toggleDetection = ()=>{\n        setIsDetecting((prev)=>!prev);\n        setStatus(isDetecting ? \"Detection paused\" : \"Detection running\");\n    };\n    // Framerate control\n    const adjustFramerate = (newRate)=>{\n        setFramerate(newRate);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative rounded-lg overflow-hidden shadow-2xl bg-black/30 backdrop-blur-sm border border-white/10\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"aspect-video relative\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                    ref: videoRef,\n                    autoPlay: true,\n                    playsInline: true,\n                    className: \"absolute inset-0 w-full h-full object-cover\"\n                }, void 0, false, {\n                    fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                    lineNumber: 416,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                    ref: canvasRef,\n                    className: \"absolute inset-0 w-full h-full object-cover\"\n                }, void 0, false, {\n                    fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                    lineNumber: 424,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute top-0 left-0 right-0 bg-black/60 text-white p-2 flex justify-between items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: status\n                        }, void 0, false, {\n                            fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                            lineNumber: 431,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center space-x-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"mr-2 text-xs\",\n                                            children: \"Speed:\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                            lineNumber: 434,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            value: framerate,\n                                            onChange: (e)=>adjustFramerate(Number(e.target.value)),\n                                            className: \"bg-gray-800 text-white text-xs rounded px-1 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"1\",\n                                                    children: \"Slow (1 FPS)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                                    lineNumber: 440,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"2\",\n                                                    children: \"Normal (2 FPS)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                                    lineNumber: 441,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"5\",\n                                                    children: \"Fast (5 FPS)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                                    lineNumber: 442,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                            lineNumber: 435,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                    lineNumber: 433,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: toggleDetection,\n                                    className: \"px-3 py-1 bg-blue-500 hover:bg-blue-600 rounded text-sm\",\n                                    children: [\n                                        isDetecting ? \"Pause\" : \"Start\",\n                                        \" Detection\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                    lineNumber: 445,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                            lineNumber: 432,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                    lineNumber: 430,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute bottom-0 right-0 max-w-xs bg-black/60 text-white p-2 text-sm max-h-32 overflow-y-auto\",\n                    children: detectionResults.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"italic text-gray-400\",\n                        children: \"No objects detected\"\n                    }, void 0, false, {\n                        fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                        lineNumber: 457,\n                        columnNumber: 13\n                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"font-bold mb-1 text-cyan-300\",\n                                children: [\n                                    \"Detected \",\n                                    detectionResults.length,\n                                    \" objects:\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                lineNumber: 460,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"space-y-1\",\n                                children: detectionResults.map((det, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"flex items-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-block w-2 h-2 rounded-full bg-cyan-400 mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                                lineNumber: 464,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium\",\n                                                children: det.class\n                                            }, void 0, false, {\n                                                fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                                lineNumber: 465,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-cyan-300 mx-1\",\n                                                children: [\n                                                    \"(\",\n                                                    Math.round(det.confidence * 100),\n                                                    \"%)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                                lineNumber: 466,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs text-gray-400\",\n                                                children: [\n                                                    \"Q\",\n                                                    det.quadrant\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                                lineNumber: 467,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, idx, true, {\n                                        fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                        lineNumber: 463,\n                                        columnNumber: 19\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                                lineNumber: 461,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                        lineNumber: 459,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n                    lineNumber: 455,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n            lineNumber: 414,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n        lineNumber: 413,\n        columnNumber: 5\n    }, undefined);\n};\n_s2(WebcamDetection, \"yXAWxGiKfgR5nwicySSufoUa+jc=\", false, function() {\n    return [\n        useCameraStream\n    ];\n});\n_c1 = WebcamDetection;\n// Wrapped export to provide camera access\nfunction WebcamDetectionWithCamera() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CameraProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(WebcamDetection, {}, void 0, false, {\n            fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n            lineNumber: 483,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/neuralsynth/Code/Vision/src/components/WebcamDetection.tsx\",\n        lineNumber: 482,\n        columnNumber: 5\n    }, this);\n}\n_c2 = WebcamDetectionWithCamera;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"CameraProvider\");\n$RefreshReg$(_c1, \"WebcamDetection\");\n$RefreshReg$(_c2, \"WebcamDetectionWithCamera\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1dlYmNhbURldGVjdGlvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRXNGO0FBK0J0Rix5Q0FBeUM7QUFDbEMsTUFBTU0sOEJBQWdCRixvREFBYUEsQ0FBb0I7SUFDNURHLFFBQVE7SUFDUkMsV0FBVyxVQUFZO0lBQ3ZCQyxPQUFPO0lBQ1BDLFdBQVc7SUFDWEMsWUFBWSxFQUFFO0lBQ2RDLGNBQWMsVUFBWTtJQUMxQkMsa0JBQWtCLEtBQU87QUFDM0IsR0FBRztBQUVILHVDQUF1QztBQUNoQyxTQUFTQyxlQUFlLEtBQTJDO1FBQTNDLEVBQUVDLFFBQVEsRUFBaUMsR0FBM0M7O0lBQzdCLE1BQU0sQ0FBQ1IsUUFBUVMsVUFBVSxHQUFHZiwrQ0FBUUEsQ0FBcUI7SUFDekQsTUFBTSxDQUFDUSxPQUFPUSxTQUFTLEdBQUdoQiwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDUyxXQUFXUSxhQUFhLEdBQUdqQiwrQ0FBUUEsQ0FBZ0I7SUFDMUQsTUFBTSxDQUFDVSxZQUFZUSxjQUFjLEdBQUdsQiwrQ0FBUUEsQ0FBYyxFQUFFO0lBQzVELE1BQU1tQixXQUFXakIsNkNBQU1BLENBQTBCO0lBQ2pELE1BQU1rQixZQUFZbEIsNkNBQU1BLENBQTJCO0lBRW5ELHNDQUFzQztJQUN0Q0QsZ0RBQVNBLENBQUM7UUFDUm1CLFVBQVVDLE9BQU8sR0FBR0MsU0FBU0MsYUFBYSxDQUFDO0lBQzdDLEdBQUcsRUFBRTtJQUVMLE1BQU1oQixZQUFZO1FBQ2hCLElBQUlELFFBQVEsT0FBT0E7UUFFbkIsSUFBSTtZQUNGLE1BQU1rQixZQUFZLE1BQU1DLFVBQVVDLFlBQVksQ0FBQ0MsWUFBWSxDQUFDO2dCQUMxREMsT0FBTztvQkFDTEMsT0FBTzt3QkFBRUMsT0FBTztvQkFBSTtvQkFDcEJDLFFBQVE7d0JBQUVELE9BQU87b0JBQUk7Z0JBQ3ZCO1lBQ0Y7WUFDQWYsVUFBVVM7WUFDVixPQUFPQTtRQUNULEVB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Q0FDQ0MsU0FBU2Q7b0NBQ1RLLFdBQVU7O3dDQUVUaEUsY0FBYyxVQUFVO3dDQUFROzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQU12Qyw4REFBQytEO29CQUFJQyxXQUFVOzhCQUNaOUQsaUJBQWlCckIsTUFBTSxLQUFLLGtCQUMzQiw4REFBQzZGO3dCQUFFVixXQUFVO2tDQUF1Qjs7Ozs7a0RBRXBDLDhEQUFDRDs7MENBQ0MsOERBQUNXO2dDQUFFVixXQUFVOztvQ0FBK0I7b0NBQVU5RCxpQkFBaUJyQixNQUFNO29DQUFDOzs7Ozs7OzBDQUM5RSw4REFBQzhGO2dDQUFHWCxXQUFVOzBDQUNYOUQsaUJBQWlCMEUsR0FBRyxDQUFDLENBQUNDLEtBQUtDLG9CQUMxQiw4REFBQ0M7d0NBQWFmLFdBQVU7OzBEQUN0Qiw4REFBQ0M7Z0RBQUtELFdBQVU7Ozs7OzswREFDaEIsOERBQUNDO2dEQUFLRCxXQUFVOzBEQUFlYSxJQUFJbEMsS0FBSzs7Ozs7OzBEQUN4Qyw4REFBQ3NCO2dEQUFLRCxXQUFVOztvREFBcUI7b0RBQUVoQixLQUFLQyxLQUFLLENBQUM0QixJQUFJM0IsVUFBVSxHQUFHO29EQUFLOzs7Ozs7OzBEQUN4RSw4REFBQ2U7Z0RBQUtELFdBQVU7O29EQUF3QjtvREFBRWEsSUFBSUcsUUFBUTs7Ozs7Ozs7dUNBSi9DRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFjM0I7SUE3U00vRTs7UUFRMEREOzs7TUFSMURDO0FBK1NOLDBDQUEwQztBQUMzQixTQUFTa0Y7SUFDdEIscUJBQ0UsOERBQUNySTtrQkFDQyw0RUFBQ21EOzs7Ozs7Ozs7O0FBR1A7TUFOd0JrRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9XZWJjYW1EZXRlY3Rpb24udHN4P2YzZmUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuXG4vLyBUeXBlcyBmb3IgZGV0ZWN0aW9uc1xudHlwZSBEZXRlY3Rpb24gPSB7XG4gIGNsYXNzOiBzdHJpbmc7XG4gIGNvbmZpZGVuY2U6IG51bWJlcjtcbiAgYmJveDogbnVtYmVyW107XG4gIHF1YWRyYW50OiBzdHJpbmc7XG59O1xuXG50eXBlIERldGVjdGlvblJlc3VsdCA9IHtcbiAgZGV0ZWN0aW9uczogRGV0ZWN0aW9uW107XG4gIHBlcmZvcm1hbmNlOiB7XG4gICAgdG90YWxfZGV0ZWN0aW9uczogbnVtYmVyO1xuICAgIGZpbHRlcmVkX2RldGVjdGlvbnM6IG51bWJlcjtcbiAgICBpbWFnZV9zaXplOiBudW1iZXJbXTtcbiAgICBjb25maWRlbmNlX3RocmVzaG9sZDogbnVtYmVyO1xuICB9O1xufTtcblxuLy8gQ3JlYXRlIGEgZ2xvYmFsIGNhbWVyYSBjb250ZXh0XG5leHBvcnQgdHlwZSBDYW1lcmFDb250ZXh0VHlwZSA9IHtcbiAgc3RyZWFtOiBNZWRpYVN0cmVhbSB8IG51bGw7XG4gIGdldFN0cmVhbTogKCkgPT4gUHJvbWlzZTxNZWRpYVN0cmVhbSB8IG51bGw+O1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgZnJhbWVEYXRhOiBzdHJpbmcgfCBudWxsOyAvLyBCYXNlNjQgZW5jb2RlZCBjdXJyZW50IGZyYW1lXG4gIGRldGVjdGlvbnM6IERldGVjdGlvbltdO1xuICBjYXB0dXJlRnJhbWU6ICgpID0+IFByb21pc2U8c3RyaW5nIHwgbnVsbD47IC8vIE1ldGhvZCB0byBjYXB0dXJlIGEgZnJhbWVcbiAgdXBkYXRlRGV0ZWN0aW9uczogKGRldGVjdGlvbnM6IERldGVjdGlvbltdKSA9PiB2b2lkOyAvLyBNZXRob2QgdG8gdXBkYXRlIGRldGVjdGlvbnNcbn07XG5cbi8vIENyZWF0ZSB0aGUgY29udGV4dCB3aXRoIGRlZmF1bHQgdmFsdWVzXG5leHBvcnQgY29uc3QgQ2FtZXJhQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8Q2FtZXJhQ29udGV4dFR5cGU+KHtcbiAgc3RyZWFtOiBudWxsLFxuICBnZXRTdHJlYW06IGFzeW5jICgpID0+IG51bGwsXG4gIGVycm9yOiBudWxsLFxuICBmcmFtZURhdGE6IG51bGwsXG4gIGRldGVjdGlvbnM6IFtdLFxuICBjYXB0dXJlRnJhbWU6IGFzeW5jICgpID0+IG51bGwsXG4gIHVwZGF0ZURldGVjdGlvbnM6ICgpID0+IHt9XG59KTtcblxuLy8gUHJvdmlkZXIgY29tcG9uZW50IGZvciBjYW1lcmEgYWNjZXNzXG5leHBvcnQgZnVuY3Rpb24gQ2FtZXJhUHJvdmlkZXIoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkge1xuICBjb25zdCBbc3RyZWFtLCBzZXRTdHJlYW1dID0gdXNlU3RhdGU8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2ZyYW1lRGF0YSwgc2V0RnJhbWVEYXRhXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZGV0ZWN0aW9ucywgc2V0RGV0ZWN0aW9uc10gPSB1c2VTdGF0ZTxEZXRlY3Rpb25bXT4oW10pO1xuICBjb25zdCB2aWRlb1JlZiA9IHVzZVJlZjxIVE1MVmlkZW9FbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZjxIVE1MQ2FudmFzRWxlbWVudCB8IG51bGw+KG51bGwpO1xuXG4gIC8vIEluaXRpYWxpemUgY2FudmFzIGZvciBmcmFtZSBjYXB0dXJlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2FudmFzUmVmLmN1cnJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGdldFN0cmVhbSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoc3RyZWFtKSByZXR1cm4gc3RyZWFtO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBuZXdTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgICAgIHZpZGVvOiB7IFxuICAgICAgICAgIHdpZHRoOiB7IGlkZWFsOiA2NDAgfSxcbiAgICAgICAgICBoZWlnaHQ6IHsgaWRlYWw6IDQ4MCB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2V0U3RyZWFtKG5ld1N0cmVhbSk7XG4gICAgICByZXR1cm4gbmV3U3RyZWFtO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3IgPSBlcnIgYXMgRXJyb3I7XG4gICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFjY2Vzc2luZyBjYW1lcmE6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIC8vIE1ldGhvZCB0byBjYXB0dXJlIGEgZnJhbWUgZnJvbSB0aGUgdmlkZW8gc3RyZWFtXG4gIGNvbnN0IGNhcHR1cmVGcmFtZSA9IGFzeW5jICgpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+ID0+IHtcbiAgICBpZiAoIXZpZGVvUmVmLmN1cnJlbnQgfHwgIWNhbnZhc1JlZi5jdXJyZW50IHx8ICFzdHJlYW0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgXG4gICAgLy8gRW5zdXJlIGNhbnZhcyBzaXplIGV4YWN0bHkgbWF0Y2hlcyBjdXJyZW50IHZpZGVvIGRpbWVuc2lvbnNcbiAgICBjYW52YXMud2lkdGggPSB2aWRlby52aWRlb1dpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSB2aWRlby52aWRlb0hlaWdodDtcbiAgICBcbiAgICAvLyBEcmF3IGN1cnJlbnQgdmlkZW8gZnJhbWUgdG8gY2FudmFzXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgaWYgKCFjdHgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciB0aGUgY2FudmFzIGZpcnN0XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIGN0eC5kcmF3SW1hZ2UodmlkZW8sIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbnZlcnQgdG8gYmFzZTY0IHdpdGggaGlnaGVyIHF1YWxpdHkgKDAuOTUgaW5zdGVhZCBvZiAwLjgpXG4gICAgICBjb25zdCBpbWFnZURhdGEgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9qcGVnJywgMC45NSk7XG4gICAgICBjb25zdCBiYXNlNjREYXRhID0gaW1hZ2VEYXRhLnNwbGl0KCcsJylbMV07XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSB3ZSBoYXZlIGRhdGFcbiAgICAgIGlmICghYmFzZTY0RGF0YSB8fCBiYXNlNjREYXRhLmxlbmd0aCA8IDEwMDApIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiR2VuZXJhdGVkIGJhc2U2NCBkYXRhIHNlZW1zIHRvbyBzbWFsbDpcIiwgYmFzZTY0RGF0YT8ubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldEZyYW1lRGF0YShiYXNlNjREYXRhKTtcbiAgICAgIHJldHVybiBiYXNlNjREYXRhO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGVuY29kaW5nIGltYWdlOlwiLCBlcnIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFVwZGF0ZSBkZXRlY3Rpb25zIHN0YXRlIHdpdGggbmV3IGRhdGFcbiAgY29uc3QgdXBkYXRlRGV0ZWN0aW9ucyA9IChuZXdEZXRlY3Rpb25zOiBEZXRlY3Rpb25bXSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgY29udGV4dCBkZXRlY3Rpb25zOlwiLCBuZXdEZXRlY3Rpb25zLmxlbmd0aCk7XG4gICAgc2V0RGV0ZWN0aW9ucyhuZXdEZXRlY3Rpb25zKTtcbiAgfTtcblxuICAvLyBDbGVhbnVwIHdoZW4gY29tcG9uZW50IHVubW91bnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChzdHJlYW0pIHtcbiAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbc3RyZWFtXSk7XG5cbiAgLy8gU2V0IHVwIHZpZGVvIGVsZW1lbnQgZm9yIHN0cmVhbVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgdmlkZW9SZWYuY3VycmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICB2aWRlb1JlZi5jdXJyZW50LmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgIHZpZGVvUmVmLmN1cnJlbnQucGxheXNJbmxpbmUgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChzdHJlYW0gJiYgdmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgfVxuICB9LCBbc3RyZWFtXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8Q2FtZXJhQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBcbiAgICAgIHN0cmVhbSwgXG4gICAgICBnZXRTdHJlYW0sIFxuICAgICAgZXJyb3IsIFxuICAgICAgZnJhbWVEYXRhLCBcbiAgICAgIGRldGVjdGlvbnMsIFxuICAgICAgY2FwdHVyZUZyYW1lLFxuICAgICAgdXBkYXRlRGV0ZWN0aW9ucyAgLy8gQWRkIHRoZSB1cGRhdGVEZXRlY3Rpb25zIGZ1bmN0aW9uIHRvIHRoZSBjb250ZXh0XG4gICAgfX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgICB7dmlkZW9SZWYuY3VycmVudCAmJiBcbiAgICAgICAgPHZpZGVvIFxuICAgICAgICAgIHJlZj17dmlkZW9SZWZ9IFxuICAgICAgICAgIGF1dG9QbGF5IFxuICAgICAgICAgIHBsYXlzSW5saW5lIFxuICAgICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6ICdub25lJyB9fSBcbiAgICAgICAgLz5cbiAgICAgIH1cbiAgICA8L0NhbWVyYUNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG5cbi8vIEhvb2sgdG8gdXNlIHRoZSBjYW1lcmEgc3RyZWFtXG5leHBvcnQgY29uc3QgdXNlQ2FtZXJhU3RyZWFtID0gKCkgPT4gdXNlQ29udGV4dChDYW1lcmFDb250ZXh0KTtcblxuLy8gVGhlIG1haW4gV2ViY2FtRGV0ZWN0aW9uIGNvbXBvbmVudFxuY29uc3QgV2ViY2FtRGV0ZWN0aW9uID0gKCkgPT4ge1xuICBjb25zdCB2aWRlb1JlZiA9IHVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKTtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW2lzRGV0ZWN0aW5nLCBzZXRJc0RldGVjdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkZXRlY3Rpb25SZXN1bHRzLCBzZXREZXRlY3Rpb25SZXN1bHRzXSA9IHVzZVN0YXRlPERldGVjdGlvbltdPihbXSk7XG4gIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZTxzdHJpbmc+KCdJbml0aWFsaXppbmcuLi4nKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgYW5pbWF0aW9uRnJhbWVSZWYgPSB1c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHsgZ2V0U3RyZWFtLCBzdHJlYW0sIGNhcHR1cmVGcmFtZSwgdXBkYXRlRGV0ZWN0aW9ucyB9ID0gdXNlQ2FtZXJhU3RyZWFtKCk7XG4gIGNvbnN0IFtmcmFtZXJhdGUsIHNldEZyYW1lcmF0ZV0gPSB1c2VTdGF0ZTxudW1iZXI+KDIpOyAvLyBGcmFtZXMgcGVyIHNlY29uZFxuICBjb25zdCBwcm9jZXNzaW5nUmVmID0gdXNlUmVmPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgbGFzdERldGVjdGlvblRpbWVSZWYgPSB1c2VSZWY8bnVtYmVyPigwKTtcblxuICAvLyBJbml0aWFsaXplIHdlYmNhbVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGFzeW5jIGZ1bmN0aW9uIHNldHVwQ2FtZXJhKCkge1xuICAgICAgc2V0U3RhdHVzKCdBY2Nlc3NpbmcgY2FtZXJhLi4uJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjYW1lcmFTdHJlYW0gPSBhd2FpdCBnZXRTdHJlYW0oKTtcbiAgICAgICAgaWYgKGNhbWVyYVN0cmVhbSAmJiB2aWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBjYW1lcmFTdHJlYW07XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gV2FpdCBmb3IgdmlkZW8gdG8gYmUgcmVhZHlcbiAgICAgICAgICB2aWRlb1JlZi5jdXJyZW50Lm9ubG9hZGVkbWV0YWRhdGEgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXZpZGVvUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2V0IGNhbnZhcyBkaW1lbnNpb25zIHRvIG1hdGNoIHZpZGVvXG4gICAgICAgICAgICBpZiAoY2FudmFzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQud2lkdGggPSB2aWRlb1JlZi5jdXJyZW50LnZpZGVvV2lkdGg7XG4gICAgICAgICAgICAgIGNhbnZhc1JlZi5jdXJyZW50LmhlaWdodCA9IHZpZGVvUmVmLmN1cnJlbnQudmlkZW9IZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldFN0YXR1cygnQ2FtZXJhIHJlYWR5Jyk7XG4gICAgICAgICAgICAvLyBBdXRvLXN0YXJ0IGRldGVjdGlvbiBhZnRlciBjYW1lcmEgaXMgcmVhZHlcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0SXNEZXRlY3RpbmcodHJ1ZSksIDEwMDApO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZXR0aW5nIHVwIGNhbWVyYTonLCBlcnIpO1xuICAgICAgICBzZXRTdGF0dXMoJ0NhbWVyYSBlcnJvcjogJyArIChlcnIgYXMgRXJyb3IpLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldHVwQ2FtZXJhKCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgICBzZXRJc0RldGVjdGluZyhmYWxzZSk7XG4gICAgfTtcbiAgfSwgW2dldFN0cmVhbV0pO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIHNlbmQgZnJhbWUgdG8gYmFja2VuZCBhbmQgZ2V0IGRldGVjdGlvbnNcbiAgY29uc3QgcHJvY2Vzc0ZyYW1lID0gYXN5bmMgKGZyYW1lRGF0YTogc3RyaW5nKTogUHJvbWlzZTxEZXRlY3Rpb25SZXN1bHQgfCBudWxsPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNldCBwcm9jZXNzaW5nIGZsYWdcbiAgICAgIHByb2Nlc3NpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwiU2VuZGluZyBmcmFtZSB0byBiYWNrZW5kIGZvciBkZXRlY3Rpb25cIik7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjUwMDAvZGV0ZWN0Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaW1hZ2U6IGZyYW1lRGF0YSB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEZXRlY3Rpb24gZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coXCJHb3QgZGV0ZWN0aW9uIHJlc3VsdHM6XCIsIHJlc3VsdCk7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIHByb2Nlc3NpbmcgZmxhZ1xuICAgICAgcHJvY2Vzc2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBsYXN0RGV0ZWN0aW9uVGltZVJlZi5jdXJyZW50ID0gRGF0ZS5ub3coKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBmcmFtZTonLCBlcnJvcik7XG4gICAgICBwcm9jZXNzaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICAvLyBEZXRlY3Rpb24gbG9vcFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpc0FjdGl2ZSA9IHRydWU7XG4gICAgXG4gICAgY29uc3QgZGV0ZWN0RnJhbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBEb24ndCB0cnkgdG8gZGV0ZWN0IGlmIG5vdCBhY3RpdmUsIGxvYWRpbmcgb3IgYWxyZWFkeSBwcm9jZXNzaW5nXG4gICAgICBpZiAoIWlzRGV0ZWN0aW5nIHx8ICFjYXB0dXJlRnJhbWUgfHwgaXNMb2FkaW5nIHx8IHByb2Nlc3NpbmdSZWYuY3VycmVudCkge1xuICAgICAgICAvLyBTY2hlZHVsZSBuZXh0IGZyYW1lIHdpdGggZGVsYXkgYmFzZWQgb24gZnJhbWVyYXRlXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChpc0FjdGl2ZSkgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRldGVjdEZyYW1lKTtcbiAgICAgICAgfSwgMTAwMCAvIGZyYW1lcmF0ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVGhyb3R0bGUgZGV0ZWN0aW9uIHJhdGUgLSByZXNwZWN0IHRoZSBmcmFtZXJhdGUgc2V0dGluZ1xuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHRpbWVTaW5jZUxhc3REZXRlY3Rpb24gPSBub3cgLSBsYXN0RGV0ZWN0aW9uVGltZVJlZi5jdXJyZW50O1xuICAgICAgaWYgKHRpbWVTaW5jZUxhc3REZXRlY3Rpb24gPCAoMTAwMCAvIGZyYW1lcmF0ZSkpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKGlzQWN0aXZlKSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZGV0ZWN0RnJhbWUpO1xuICAgICAgICB9LCAxMDAwIC8gZnJhbWVyYXRlIC0gdGltZVNpbmNlTGFzdERldGVjdGlvbik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBDYXB0dXJlIGZyYW1lIGZyb20gd2ViY2FtXG4gICAgICAgIGNvbnN0IGZyYW1lID0gYXdhaXQgY2FwdHVyZUZyYW1lKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZnJhbWUgJiYgaXNBY3RpdmUpIHtcbiAgICAgICAgICBzZXRTdGF0dXMoJ1Byb2Nlc3NpbmcuLi4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTZW5kIHRvIGJhY2tlbmQgZm9yIGRldGVjdGlvblxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3NGcmFtZShmcmFtZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHJlc3VsdCAmJiBpc0FjdGl2ZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZXRlY3Rpb24gcmVzdWx0czpcIiwgcmVzdWx0LmRldGVjdGlvbnMubGVuZ3RoLCBcIm9iamVjdHMgZm91bmRcIik7XG4gICAgICAgICAgICBzZXREZXRlY3Rpb25SZXN1bHRzKHJlc3VsdC5kZXRlY3Rpb25zKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSU1QT1JUQU5UOiBBbHNvIHVwZGF0ZSB0aGUgY29udGV4dCB3aXRoIHRoZSBkZXRlY3Rpb25zXG4gICAgICAgICAgICAvLyBzbyBvdGhlciBjb21wb25lbnRzIGNhbiBhY2Nlc3MgdGhlbVxuICAgICAgICAgICAgdXBkYXRlRGV0ZWN0aW9ucyhyZXN1bHQuZGV0ZWN0aW9ucyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldFN0YXR1cyhgRGV0ZWN0ZWQgJHtyZXN1bHQuZGV0ZWN0aW9ucy5sZW5ndGh9IG9iamVjdHNgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBkZXRlY3Rpb24gbG9vcDonLCBlcnIpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBzZXRTdGF0dXMoJ0RldGVjdGlvbiBlcnJvcicpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENvbnRpbnVlIGRldGVjdGlvbiBsb29wIHdpdGggY29udHJvbGxlZCBmcmFtZXJhdGVcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHJlcXVlc3RBbmltYXRpb25GcmFtZShkZXRlY3RGcmFtZSk7XG4gICAgICB9LCAxMDAwIC8gZnJhbWVyYXRlKTtcbiAgICB9O1xuXG4gICAgZGV0ZWN0RnJhbWUoKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIGlmIChhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtpc0RldGVjdGluZywgY2FwdHVyZUZyYW1lLCBpc0xvYWRpbmcsIGZyYW1lcmF0ZSwgdXBkYXRlRGV0ZWN0aW9uc10pO1xuXG4gIC8vIERyYXcgYm91bmRpbmcgYm94ZXMgb24gY2FudmFzIC0gSW1wcm92ZWQgcmVuZGVyaW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCB8fCAhdmlkZW9SZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmICghY3R4KSByZXR1cm47XG4gICAgXG4gICAgLy8gTWFrZSBzdXJlIGNhbnZhcyBkaW1lbnNpb25zIG1hdGNoIHZpZGVvIGRpbWVuc2lvbnNcbiAgICBpZiAodmlkZW9SZWYuY3VycmVudC52aWRlb1dpZHRoICE9PSBjYW52YXMud2lkdGggfHwgXG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQudmlkZW9IZWlnaHQgIT09IGNhbnZhcy5oZWlnaHQpIHtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHZpZGVvUmVmLmN1cnJlbnQudmlkZW9XaWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWRlb1JlZi5jdXJyZW50LnZpZGVvSGVpZ2h0O1xuICAgICAgY29uc29sZS5sb2coYFVwZGF0ZWQgY2FudmFzIGRpbWVuc2lvbnMgdG8gJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYXIgcHJldmlvdXMgZHJhd2luZ3NcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgXG4gICAgLy8gRHJhdyB2aWRlbyBmcmFtZSBmaXJzdFxuICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICB2aWRlb1JlZi5jdXJyZW50LCBcbiAgICAgIDAsIDAsIFxuICAgICAgY2FudmFzLndpZHRoLCBcbiAgICAgIGNhbnZhcy5oZWlnaHRcbiAgICApO1xuICAgIFxuICAgIC8vIExvZyBkZXRlY3Rpb24gY291bnQgYmVmb3JlIGRyYXdpbmdcbiAgICBjb25zb2xlLmxvZyhgRHJhd2luZyAke2RldGVjdGlvblJlc3VsdHMubGVuZ3RofSBkZXRlY3Rpb24gYm94ZXMgb24gY2FudmFzYCk7XG4gICAgXG4gICAgLy8gRHJhdyBlYWNoIGRldGVjdGlvblxuICAgIGRldGVjdGlvblJlc3VsdHMuZm9yRWFjaCgoZGV0ZWN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgW3gsIHksIHdpZHRoLCBoZWlnaHRdID0gZGV0ZWN0aW9uLmJib3g7XG4gICAgICBjb25zb2xlLmxvZyhgRGV0ZWN0aW9uICR7aW5kZXh9OiAke2RldGVjdGlvbi5jbGFzc30gYXQgKCR7eH0sJHt5fSwke3dpZHRofSwke2hlaWdodH0pYCk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIERyYXcgYm91bmRpbmcgYm94IHdpdGggbW9yZSB2aWJyYW50IGNvbG9yXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjMDBGRkZGJztcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDM7ICAvLyBUaGlja2VyIGxpbmVzXG4gICAgICAgIGN0eC5zdHJva2VSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIG1vcmUgdmlzaWJsZSBsYWJlbCB3aXRoIGJldHRlciBjb250cmFzdFxuICAgICAgICBjb25zdCB0ZXh0ID0gYCR7ZGV0ZWN0aW9uLmNsYXNzfSAoJHtNYXRoLnJvdW5kKGRldGVjdGlvbi5jb25maWRlbmNlICogMTAwKX0lKWA7XG4gICAgICAgIGN0eC5mb250ID0gJ2JvbGQgMTZweCBBcmlhbCc7XG4gICAgICAgIGNvbnN0IHRleHRNZXRyaWNzID0gY3R4Lm1lYXN1cmVUZXh0KHRleHQpO1xuICAgICAgICBjb25zdCBsYWJlbFdpZHRoID0gTWF0aC5tYXgoMTYwLCB0ZXh0TWV0cmljcy53aWR0aCArIDIwKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERyYXcgbGFiZWwgYmFja2dyb3VuZFxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC43KSc7ICAvLyBEYXJrIGJhY2tncm91bmQgZm9yIGJldHRlciBjb250cmFzdFxuICAgICAgICBjdHguZmlsbFJlY3QoeCwgeSAtIDMwLCBsYWJlbFdpZHRoLCAzMCk7XG4gICAgICAgIFxuICAgICAgICAvLyBEcmF3IGJvcmRlciBmb3IgbGFiZWxcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyMwMEZGRkYnO1xuICAgICAgICBjdHguc3Ryb2tlUmVjdCh4LCB5IC0gMzAsIGxhYmVsV2lkdGgsIDMwKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERyYXcgbGFiZWwgdGV4dFxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNGRkZGRkYnOyAgLy8gV2hpdGUgdGV4dCBmb3IgdmlzaWJpbGl0eVxuICAgICAgICBjdHguZmlsbFRleHQodGV4dCwgeCArIDUsIHkgLSAxMCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRyYXdpbmcgZGV0ZWN0aW9uOlwiLCBlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbZGV0ZWN0aW9uUmVzdWx0c10pO1xuXG4gIC8vIFRvZ2dsZSBkZXRlY3Rpb24gb24vb2ZmXG4gIGNvbnN0IHRvZ2dsZURldGVjdGlvbiA9ICgpID0+IHtcbiAgICBzZXRJc0RldGVjdGluZyhwcmV2ID0+ICFwcmV2KTtcbiAgICBzZXRTdGF0dXMoaXNEZXRlY3RpbmcgPyAnRGV0ZWN0aW9uIHBhdXNlZCcgOiAnRGV0ZWN0aW9uIHJ1bm5pbmcnKTtcbiAgfTtcblxuICAvLyBGcmFtZXJhdGUgY29udHJvbFxuICBjb25zdCBhZGp1c3RGcmFtZXJhdGUgPSAobmV3UmF0ZTogbnVtYmVyKSA9PiB7XG4gICAgc2V0RnJhbWVyYXRlKG5ld1JhdGUpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlbiBzaGFkb3ctMnhsIGJnLWJsYWNrLzMwIGJhY2tkcm9wLWJsdXItc20gYm9yZGVyIGJvcmRlci13aGl0ZS8xMFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhc3BlY3QtdmlkZW8gcmVsYXRpdmVcIj5cbiAgICAgICAgey8qIFZpZGVvIGZlZWQgKi99XG4gICAgICAgIDx2aWRlb1xuICAgICAgICAgIHJlZj17dmlkZW9SZWZ9XG4gICAgICAgICAgYXV0b1BsYXlcbiAgICAgICAgICBwbGF5c0lubGluZVxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgdy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIlxuICAgICAgICAvPlxuICAgICAgICBcbiAgICAgICAgey8qIENhbnZhcyBvdmVybGF5IGZvciBkcmF3aW5nIGRldGVjdGlvbnMgKi99XG4gICAgICAgIDxjYW52YXNcbiAgICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgLz5cbiAgICAgICAgXG4gICAgICAgIHsvKiBTdGF0dXMgb3ZlcmxheSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgcmlnaHQtMCBiZy1ibGFjay82MCB0ZXh0LXdoaXRlIHAtMiBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8c3Bhbj57c3RhdHVzfTwvc3Bhbj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0yIHRleHQteHNcIj5TcGVlZDo8L3NwYW4+XG4gICAgICAgICAgICAgIDxzZWxlY3QgXG4gICAgICAgICAgICAgICAgdmFsdWU9e2ZyYW1lcmF0ZX0gXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBhZGp1c3RGcmFtZXJhdGUoTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgcHgtMSBweS0xXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIxXCI+U2xvdyAoMSBGUFMpPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjJcIj5Ob3JtYWwgKDIgRlBTKTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCI1XCI+RmFzdCAoNSBGUFMpPC9vcHRpb24+XG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZURldGVjdGlvbn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWJsdWUtNTAwIGhvdmVyOmJnLWJsdWUtNjAwIHJvdW5kZWQgdGV4dC1zbVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc0RldGVjdGluZyA/ICdQYXVzZScgOiAnU3RhcnQnfSBEZXRlY3Rpb25cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBEZXRlY3Rpb25zIHBhbmVsICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0wIHJpZ2h0LTAgbWF4LXcteHMgYmctYmxhY2svNjAgdGV4dC13aGl0ZSBwLTIgdGV4dC1zbSBtYXgtaC0zMiBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICB7ZGV0ZWN0aW9uUmVzdWx0cy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJpdGFsaWMgdGV4dC1ncmF5LTQwMFwiPk5vIG9iamVjdHMgZGV0ZWN0ZWQ8L3A+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtYm9sZCBtYi0xIHRleHQtY3lhbi0zMDBcIj5EZXRlY3RlZCB7ZGV0ZWN0aW9uUmVzdWx0cy5sZW5ndGh9IG9iamVjdHM6PC9wPlxuICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAge2RldGVjdGlvblJlc3VsdHMubWFwKChkZXQsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGxpIGtleT17aWR4fSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtYmxvY2sgdy0yIGgtMiByb3VuZGVkLWZ1bGwgYmctY3lhbi00MDAgbXItMlwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57ZGV0LmNsYXNzfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1jeWFuLTMwMCBteC0xXCI+KHtNYXRoLnJvdW5kKGRldC5jb25maWRlbmNlICogMTAwKX0lKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwXCI+UXtkZXQucXVhZHJhbnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBXcmFwcGVkIGV4cG9ydCB0byBwcm92aWRlIGNhbWVyYSBhY2Nlc3NcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdlYmNhbURldGVjdGlvbldpdGhDYW1lcmEoKSB7XG4gIHJldHVybiAoXG4gICAgPENhbWVyYVByb3ZpZGVyPlxuICAgICAgPFdlYmNhbURldGVjdGlvbiAvPlxuICAgIDwvQ2FtZXJhUHJvdmlkZXI+XG4gICk7XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsIkNhbWVyYUNvbnRleHQiLCJzdHJlYW0iLCJnZXRTdHJlYW0iLCJlcnJvciIsImZyYW1lRGF0YSIsImRldGVjdGlvbnMiLCJjYXB0dXJlRnJhbWUiLCJ1cGRhdGVEZXRlY3Rpb25zIiwiQ2FtZXJhUHJvdmlkZXIiLCJjaGlsZHJlbiIsInNldFN0cmVhbSIsInNldEVycm9yIiwic2V0RnJhbWVEYXRhIiwic2V0RGV0ZWN0aW9ucyIsInZpZGVvUmVmIiwiY2FudmFzUmVmIiwiY3VycmVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm5ld1N0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsInZpZGVvIiwid2lkdGgiLCJpZGVhbCIsImhlaWdodCIsImVyciIsIm1lc3NhZ2UiLCJjb25zb2xlIiwiY2FudmFzIiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwiY3R4IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsImltYWdlRGF0YSIsInRvRGF0YVVSTCIsImJhc2U2NERhdGEiLCJzcGxpdCIsImxlbmd0aCIsIndhcm4iLCJuZXdEZXRlY3Rpb25zIiwibG9nIiwiZ2V0VHJhY2tzIiwiZm9yRWFjaCIsInRyYWNrIiwic3RvcCIsImF1dG9wbGF5IiwicGxheXNJbmxpbmUiLCJzcmNPYmplY3QiLCJQcm92aWRlciIsInZhbHVlIiwicmVmIiwiYXV0b1BsYXkiLCJzdHlsZSIsImRpc3BsYXkiLCJ1c2VDYW1lcmFTdHJlYW0iLCJXZWJjYW1EZXRlY3Rpb24iLCJpc0RldGVjdGluZyIsInNldElzRGV0ZWN0aW5nIiwiZGV0ZWN0aW9uUmVzdWx0cyIsInNldERldGVjdGlvblJlc3VsdHMiLCJzdGF0dXMiLCJzZXRTdGF0dXMiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJhbmltYXRpb25GcmFtZVJlZiIsImZyYW1lcmF0ZSIsInNldEZyYW1lcmF0ZSIsInByb2Nlc3NpbmdSZWYiLCJsYXN0RGV0ZWN0aW9uVGltZVJlZiIsInNldHVwQ2FtZXJhIiwiY2FtZXJhU3RyZWFtIiwib25sb2FkZWRtZXRhZGF0YSIsInNldFRpbWVvdXQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInByb2Nlc3NGcmFtZSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbWFnZSIsIm9rIiwiRXJyb3IiLCJyZXN1bHQiLCJqc29uIiwiRGF0ZSIsIm5vdyIsImlzQWN0aXZlIiwiZGV0ZWN0RnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lU2luY2VMYXN0RGV0ZWN0aW9uIiwiZnJhbWUiLCJkZXRlY3Rpb24iLCJpbmRleCIsIngiLCJ5IiwiYmJveCIsImNsYXNzIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2VSZWN0IiwidGV4dCIsIk1hdGgiLCJyb3VuZCIsImNvbmZpZGVuY2UiLCJmb250IiwidGV4dE1ldHJpY3MiLCJtZWFzdXJlVGV4dCIsImxhYmVsV2lkdGgiLCJtYXgiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImZpbGxUZXh0IiwidG9nZ2xlRGV0ZWN0aW9uIiwicHJldiIsImFkanVzdEZyYW1lcmF0ZSIsIm5ld1JhdGUiLCJkaXYiLCJjbGFzc05hbWUiLCJzcGFuIiwic2VsZWN0Iiwib25DaGFuZ2UiLCJlIiwiTnVtYmVyIiwidGFyZ2V0Iiwib3B0aW9uIiwiYnV0dG9uIiwib25DbGljayIsInAiLCJ1bCIsIm1hcCIsImRldCIsImlkeCIsImxpIiwicXVhZHJhbnQiLCJXZWJjYW1EZXRlY3Rpb25XaXRoQ2FtZXJhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/WebcamDetection.tsx\n"));

/***/ })

});